# eBPF ROS - telemetry instrumentation for ROS2 applications

This work aims at providing an eBPF based telemetry instrumentation leveraging eBPF and exporting telemetry in the OpenTelemetry standard.

## Building the project

Run 'go generate' to compile the eBPF code and generate go helpers to load the code
Run 'go build' to build the go userspace program
Run 'sudo -E ./ebpf-ros' to launch the program. Superuser permissions are needed to load the program in the kernel, and the -E flag is used to preserve the user space environment variables used for the OTeL exporter. This is suboptimal and should be changed if possible

## Execute the project

Run 'sudo ./node_creation_counter'

# TODO
 [X] Change from performance array to ringbuffer
 [X] Change user space program from C to golang
 [X] Export the counter of nodes created as an OpenTelemetry counter
 [] Figure out why the data_t struct is not generated by ebpf2go
